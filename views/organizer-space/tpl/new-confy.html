{% extends '../index.html' %}

{% block styleSheet %}
    <!-- page specific plugin styles -->
    <link rel="stylesheet" href="/assets/css/select2.min.css" />
    <!-- ace styles -->
    <link rel="stylesheet" href="/assets/css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style" />
    <!-- Date range picker -->
    <link rel="stylesheet" href="/assets/css/daterangepicker.min.css" />
{% endblock %}

{% block breadcrumbs %}
    <div class="breadcrumbs" id="breadcrumbs">
        <script type="text/javascript">
            try {
                ace.settings.check('breadcrumbs', 'fixed')
            } catch (e) {}
        </script>

        <ul class="breadcrumb">
            <li>
                <i class="ace-icon fa fa-home home-icon"></i>
                <a href="/organizer/index">Home</a>
            </li>
            
            <li>
                <i class="ace-icon fa fa-home home-icon"></i>
                <a href="#">Congres</a>
            </li>

            <li class="active">Creer congres</li>
        </ul>
        <!-- /.breadcrumb -->
        <!-- /.nav-search -->
    </div>
{% endblock %}

{% block content %}
    <div class="page-header">
        <h1>
           Congres
            <small>
                <i class="ace-icon fa fa-angle-double-right"></i>
                creer un nouveau congres
            </small>
        </h1>
    </div>

    <div class="row">
        <div class="col-md-8 col-md-offset-2">
<!-- BEGIN Form Wizard -->
    <div class="widget-box">
<!--
    <div class="widget-header widget-header-blue widget-header-flat">
        <h4 class="widget-title lighter">New Item Wizard</h4>

        <div class="widget-toolbar">
            <label>
                <small class="green">
                    <b>Validation</b>
                </small>

                <input id="skip-validation" type="checkbox" class="ace ace-switch ace-switch-4" />
                <span class="lbl middle"></span>
            </label>
        </div>
    </div>
-->

    <div class="widget-body">
        <div class="widget-main">
            <div id="fuelux-wizard-container">
                <div>
                    <ul class="steps">
                        <li data-step="1" class="active">
                            <span class="step">1</span>
                            <span class="title">Information</span>
                        </li>

                        <li data-step="2">
                            <span class="step">2</span>
                            <span class="title">Phases</span>
                        </li>

                        <li data-step="3">
                            <span class="step">3</span>
                            <span class="title">Fin</span>
                        </li>
                    </ul>
                </div>

                <hr />

                <div class="step-content pos-rel">
                        <h3 class="lighter block green">Information sur le congre</h3>           
                        <form class="form-horizontal" id="validation-form" method="get">
                            <div class="step-pane active" data-step="1">
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="name">
                                    Nom
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="clearfix">
                                        <input type="text" id="name" name="name" class="col-md-12" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="comment">
                                    Description
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="clearfix">
                                        <textarea class="input-xlarge" name="comment" id="comment"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="space-8"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="name">
                                    Date
                                </label>
                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar bigger-110"></i>
                                        </span>

                                        <input class="form-control" type="text" name="date-range-picker" id="id-date-range-picker-1" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>

                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="platform">
                                    Thematique
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="clearfix">
                                        <select class="input-large" id="platform" name="platform" style="width: 234px;" >
                                            <option value="">------------------</option>
                                            <option value="linux">Linux</option>
                                            <option value="windows">Windows</option>
                                            <option value="mac">Mac OS</option>
                                            <option value="ios">iOS</option>
                                            <option value="android">Android</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>

                            <div class="hr hr-dotted"></div>
                        <h3 class="lighter block green">Contact</h3>           

                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="email">
                                    Email Address
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="clearfix">
                                        <input type="email" name="email" id="email" class="col-md-12" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="phone">
                                    Phone Number
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="ace-icon fa fa-phone"></i>
                                        </span>

                                        <input type="tel" id="phone" name="phone" class="col-md-12" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="name">
                                    Adresse
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="clearfix">
                                        <input type="text" id="name" name="name" class="col-md-12" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="url">
                                    Site
                                </label>

                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="clearfix">
                                        <input type="url" id="url" name="url" class="col-md-12" />
                                    </div>
                                </div>
                            </div>
                        
                    </div>

                    <div class="step-pane" data-step="2">
                        <div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="name">
                                    Phase de soumission
                                </label>
                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar bigger-110"></i>
                                        </span>

                                        <input class="form-control" type="text" name="date-range-picker" id="id-date-range-picker-1" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="name">
                                    Phase de selection
                                </label>
                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar bigger-110"></i>
                                        </span>

                                        <input class="form-control" type="text" name="date-range-picker" id="id-date-range-picker-1" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                            <div class="form-group">
                                <label class="control-label col-xs-12 col-sm-3 col-md-4 no-padding-right" for="name">
                                    Phase de finalisation
                                </label>
                                <div class="col-xs-12 col-sm-9 col-md-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar bigger-110"></i>
                                        </span>

                                        <input class="form-control" type="text" name="date-range-picker" id="id-date-range-picker-1" />
                                    </div>
                                </div>
                            </div>

                            <div class="space-2"></div>
                            
                        </div>
                    </div>

                    <div class="step-pane" data-step="3">
                        <div class="center">
                            <h3 class="green">Congrats!</h3>
                            Your product is ready to ship! Click finish to continue!
                        </div>
                    </div>

                    </form>
                </div>
            </div>

            <hr />
            <div class="wizard-actions">
                <button class="btn btn-prev">
                    <i class="ace-icon fa fa-arrow-left"></i>
                    Prev
                </button>

                <button class="btn btn-success btn-next" data-last="Finish">
                    Next
                    <i class="ace-icon fa fa-arrow-right icon-on-right"></i>
                </button>
            </div>
        </div><!-- /.widget-main -->
    </div><!-- /.widget-body -->
    </div>
<!-- END Form Wizard -->
        </div>
    </div>


{% endblock %}

{% block scripts %}
    <!-- page specific plugin scripts -->
    <script src="/assets/js/fuelux.wizard.min.js"></script>
    <script src="/assets/js/jquery.validate.min.js"></script>
    <script src="/assets/js/additional-methods.min.js"></script>
    <script src="/assets/js/bootbox.min.js"></script>
    <script src="/assets/js/jquery.maskedinput.min.js"></script>
    <script src="/assets/js/select2.min.js"></script>
    <!-- Date range picker -->
    <script src="/assets/js/jquery-ui.custom.min.js"></script>
    <script src="/assets/js/chosen.jquery.min.js"></script>
    <script src="/assets/js/bootstrap-datepicker.min.js"></script>
    <script src="/assets/js/bootstrap-timepicker.min.js"></script>
    <script src="/assets/js/moment.min.js"></script>
    <script src="/assets/js/daterangepicker.min.js"></script>
    <script src="/assets/js/bootstrap-datetimepicker.min.js"></script>
    <script src="/assets/js/jquery.autosize.min.js"></script>
    <script src="/assets/js/jquery.inputlimiter.1.3.1.min.js"></script>
    <script src="/assets/js/jquery.maskedinput.min.js"></script>
    <!-- inline scripts related to this page -->
    <script type="text/javascript">
        jQuery(function($) {

            $('[data-rel=tooltip]').tooltip();

            $(".select2").css('width','200px').select2({allowClear:true})
            .on('change', function(){
                $(this).closest('form').validate().element($(this));
            }); 


            var $validation = true;
            $('#fuelux-wizard-container')
            .ace_wizard({
                //step: 2 //optional argument. wizard will jump to step "2" at first
                //buttons: '.wizard-actions:eq(0)'
            })
            .on('actionclicked.fu.wizard' , function(e, info){
                if(info.step == 1 && $validation) {
                    if(!$('#validation-form').valid()) e.preventDefault();
                }
            })
            .on('finished.fu.wizard', function(e) {
                bootbox.dialog({
                    message: "Thank you! Your information was successfully saved!", 
                    buttons: {
                        "success" : {
                            "label" : "OK",
                            "className" : "btn-sm btn-primary"
                        }
                    }
                });
            }).on('stepclick.fu.wizard', function(e){
                //e.preventDefault();//this will prevent clicking and selecting steps
            });


            //jump to a step
            /**
            var wizard = $('#fuelux-wizard-container').data('fu.wizard')
            wizard.currentStep = 3;
            wizard.setState();
            */

            //determine selected step
            //wizard.selectedItem().step



            //hide or show the other form which requires validation
            //this is for demo only, you usullay want just one form in your application
            $('#skip-validation').removeAttr('checked').on('click', function(){
                $validation = this.checked;
                if(this.checked) {
                    $('#sample-form').hide();
                    $('#validation-form').removeClass('hide');
                }
                else {
                    $('#validation-form').addClass('hide');
                    $('#sample-form').show();
                }
            })
            
            //Validation for 
//            $validation = true;

            //documentation : http://docs.jquery.com/Plugins/Validation/validate


            $.mask.definitions['~']='[+-]';
            $('#phone').mask('(999) 999-9999');

            jQuery.validator.addMethod("phone", function (value, element) {
                return this.optional(element) || /^\(\d{3}\) \d{3}\-\d{4}( x\d{1,6})?$/.test(value);
            }, "Enter a valid phone number.");

            $('#validation-form').validate({
                errorElement: 'div',
                errorClass: 'help-block',
                focusInvalid: false,
                ignore: "",
                rules: {
                    email: {
                        required: true,
                        email:true
                    },
                    password: {
                        required: true,
                        minlength: 5
                    },
                    password2: {
                        required: true,
                        minlength: 5,
                        equalTo: "#password"
                    },
                    name: {
                        required: true
                    },
                    phone: {
                        required: true,
                        phone: 'required'
                    },
                    url: {
                        required: true,
                        url: true
                    },
                    comment: {
                        required: true
                    },
                    state: {
                        required: true
                    },
                    platform: {
                        required: true
                    },
                    subscription: {
                        required: true
                    },
                    gender: {
                        required: true,
                    },
                    agree: {
                        required: true,
                    }
                },

                messages: {
                    email: {
                        required: "Please provide a valid email.",
                        email: "Please provide a valid email."
                    },
                    password: {
                        required: "Please specify a password.",
                        minlength: "Please specify a secure password."
                    },
                    state: "Please choose state",
                    subscription: "Please choose at least one option",
                    gender: "Please choose gender",
                    agree: "Please accept our policy"
                },


                highlight: function (e) {
                    $(e).closest('.form-group').removeClass('has-info').addClass('has-error');
                },

                success: function (e) {
                    $(e).closest('.form-group').removeClass('has-error');//.addClass('has-info');
                    $(e).remove();
                },

                errorPlacement: function (error, element) {
                    if(element.is('input[type=checkbox]') || element.is('input[type=radio]')) {
                        var controls = element.closest('div[class*="col-"]');
                        if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
                        else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
                    }
                    else if(element.is('.select2')) {
                        error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
                    }
                    else if(element.is('.chosen-select')) {
                        error.insertAfter(element.siblings('[class*="chosen-container"]:eq(0)'));
                    }
                    else error.insertAfter(element.parent());
                },

                submitHandler: function (form) {
                },
                invalidHandler: function (form) {
                }
            });




            $('#modal-wizard-container').ace_wizard();
            $('#modal-wizard .wizard-actions .btn[data-dismiss=modal]').removeAttr('disabled');


            /**
            $('#date').datepicker({autoclose:true}).on('changeDate', function(ev) {
                $(this).closest('form').validate().element($(this));
            });

            $('#mychosen').chosen().on('change', function(ev) {
                $(this).closest('form').validate().element($(this));
            });
            */


            $(document).one('ajaxloadstart.page', function(e) {
                //in ajax mode, remove remaining elements before leaving page
                $('[class*=select2]').remove();
            });
        })
    </script>

<script type="text/javascript">
			jQuery(function($) {
				//or change it into a date range picker
				$('.input-daterange').datepicker({autoclose:true});
			
				//to translate the daterange picker, please copy the "examples/daterange-fr.js" contents here before initialization
				$('input[name=date-range-picker]').daterangepicker({
					'applyClass' : 'btn-sm btn-success',
					'cancelClass' : 'btn-sm btn-default',
					locale: {
						applyLabel: 'Apply',
						cancelLabel: 'Cancel',
					}
				})
				.prev().on(ace.click_event, function(){
					$(this).next().focus();
				});
			
				$(document).one('ajaxloadstart.page', function(e) {
					$('textarea[class*=autosize]').trigger('autosize.destroy');
					$('.limiterBox,.autosizejs').remove();
					$('.daterangepicker.dropdown-menu,.colorpicker.dropdown-menu,.bootstrap-datetimepicker-widget.dropdown-menu').remove();
				});
			
			});
		</script>
{% endblock %}
